

<form [formGroup]="form">
    <ng-progress #progressBar [color]="'#ec407a'" id="home-progress"></ng-progress>
    <mat-card class="mat-elevation-z4">

            

        <div class="flex_row" [formGroupName]="'applicantapply'">
            <!-- <mat-form-field appearance="outline" class="paddingInput" style="width: 15%;font-size: 10px;">
                <mat-label>โครงการ</mat-label>
                <mat-select (valueChange)="changeProgram($event)">
                    <mat-option *ngFor="let food of program" [value]="food">
                        {{food.program_name_th}}
                    </mat-option>
                </mat-select>
            </mat-form-field> -->
            <mat-form-field class="paddingInput" disabled style="width: 15%;font-size: 10px;" appearance="outline">
                <mat-label> เลขที่ผู้สมัคร </mat-label>
                <input matInput [disabled]="true" formControlName="application_id" />
            </mat-form-field>
            <mat-form-field class="paddingInput" disabled style="width: 15%;font-size: 10px;" appearance="outline">
                <mat-label> สถานะผู้สมัคร </mat-label>
                <input matInput [disabled]="true" formControlName="application_status_name_th" />
            </mat-form-field>
        </div>
        <!-- <div class="flex_row">ประเภทการศึกษา</div> -->
        <div class="flex_row" [formGroupName]="'applicantapply'">
            <!-- <mat-form-field appearance="outline" class="paddingInput" style="width: 15%;font-size: 10px;">
                <mat-label>โครงการ</mat-label>
                <mat-select (valueChange)="changeProgram($event)">
                    <mat-option *ngFor="let food of program" [value]="food">
                        {{food.program_name_th}}
                    </mat-option>
                </mat-select>
            </mat-form-field> -->
            <mat-form-field class="paddingInput" disabled style="width: 15%;font-size: 10px;" appearance="outline">
                <mat-label> ปริญญาตรี </mat-label>
                <input matInput disabled formControlName="program_name_th" />
            </mat-form-field>
            <mat-form-field disabled class="paddingInput" style="width: 15%;font-size: 10px;"
                appearance="outline">
                <mat-label> ปริญญาตรี </mat-label>
                <input matInput disabled formControlName="education_type_name_th" />
            </mat-form-field>
            <mat-form-field disabled class="paddingInput" style="width: 15%;font-size: 10px;"
                appearance="outline">
                <mat-label> ภาคการศึกษา </mat-label>
                <input matInput disabled formControlName="academic_semester_name_th" />
            </mat-form-field>
            <mat-form-field disabled class="paddingInput" style="width: 15%;font-size: 10px;"
                appearance="outline">
                <mat-label> ปีการศึกษา </mat-label>
                <input matInput disabled formControlName="academic_year_name_th" />
            </mat-form-field>
        </div>
        <br>
        <!-- <ng-container [formGroupName]="'applicantapply'">
            <mat-form-field style="width: 100%;font-size: 10px;" appearance="outline"
                (click)="search()">
                <input matInput #courseInput formControlName="courseName"
                    placeholder="ค้นหาหลักสูตรที่ต้องการศึกษา" aria-label="ค้นหาหลักสูตรที่ต้องการศึกษา"
                    [matAutocomplete]="sub" />
                <mat-label>ค้นหาหลักสูตรที่ต้องการศึกษา</mat-label>
                <mat-icon matSuffix>search</mat-icon>
                <mat-autocomplete #sub="matAutocomplete">
                    <mat-option *ngFor="let ad of educations" [value]="ad.name_th"
                        (onSelectionChange)="selectCourse(ad)">
                        {{ad.name_th }}
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>
        </ng-container> -->
        <!-- <br> -->
        <mat-card-title style="padding: 10px;font-size: 14px;;">ค่าใช้จ่ายการสมัคร {{entollPrice | number: '1.0-0'}} (บาท) </mat-card-title>
        <table mat-table [dataSource]="courses" matSort class="mat-elevation-z2" style="width: 100%;">
            <tr mat-header-row *matHeaderRowDef="['course_id','course_name']"></tr>
            <tr mat-row *matRowDef="let myRowData; columns: ['course_id','course_name']">
            </tr>
            <ng-container matColumnDef="course_id">
                <th mat-header-cell *matHeaderCellDef>อันดับที่</th>
                <td mat-cell *matCellDef="let data; let index = index">
                    {{ index + 1 }}
                </td>
            </ng-container>
            <ng-container matColumnDef="course_name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> รายการค่าใช้งาน </th>
                <td mat-cell *matCellDef="let data">{{data.major_code}} - {{ data.course_name_th }}</td>
            </ng-container>
            <!-- <ng-container matColumnDef="row_order">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> ลบ </th>
                <td mat-cell *matCellDef="let data;let index = index">
                    <button mat-icon-button color="accent"
                        aria-label="Example icon button with a home icon" (click)="removeCoures(index)">
                        <mat-icon> delete </mat-icon>
                    </button>
                </td>
            </ng-container> -->
        </table>
        <br>
        <ng-container [formGroupName]="'applicants'">
            <div class="flex_row">
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline"
                    class="paddingInput">
                    <mat-label> บัตรประชาชน / พาสปอร์ต </mat-label>
                    <input matInput formControlName="personal_id" type="text" />
                    <mat-error *ngIf="form.get('applicants.personal_id').hasError('minLength')">
                        ต้องการรหัส 13 หลัก</mat-error>
                    <mat-error *ngIf="form.get('applicants.personal_id').hasError('maxLength')">
                        ต้องการรหัสไม่เกิน 13 หลัก</mat-error>
                    <mat-error *ngIf="form.get('applicants.personal_id').hasError('notReal')">
                        รหัสบัตรประชาชนไม่ถูกต้อง</mat-error>

                </mat-form-field>
                <mat-form-field appearance="outline" style="width: 15%;font-size: 10px;"
                    class="paddingInput">
                    <mat-label>คำนำหน้าชื่อ</mat-label>
                    <mat-select placeholder="คำนำหน้าชื่อ" formControlName="prefix_code">
                        <mat-option *ngFor="let prefix of prefixs" [value]="prefix.prefix_code">
                            {{prefix.prefix_name_th}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline"
                    class="paddingInput">
                    <mat-label> ชื่อ </mat-label>
                    <input matInput [maxLength]="50" formControlName="first_name_th" />
                </mat-form-field>

                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline"
                    class="paddingInput">
                    <mat-label> นามสกุล </mat-label>
                    <input matInput [maxLength]="50" formControlName="last_name_th" />
                </mat-form-field>
                <mat-radio-group aria-label="Select an option" class="paddingInput" style="width: 15%;"
                    formControlName="gender_id">
                    เพศ
                    &nbsp;
                    <mat-radio-button [value]="1">ชาย</mat-radio-button>
                    &nbsp;
                    <mat-radio-button [value]="2">หญิง</mat-radio-button>
                </mat-radio-group>
            </div>
            <div class="flex_row">
                <mat-form-field style="width: 15%;font-size: 10px;" class="paddingInput"
                    appearance="outline">
                    <mat-label>วันเดือนปีเกิด (พ.ศ)</mat-label>
                    <input (dateChange)="dateChange($event.value)" (click)="picker.open()" matInput readonly
                        [max]="a" [matDatepicker]="picker" formControlName="date_of_birth"
                        autocomplete="off" (selectedValueChange)="dateChange($event)">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker [startAt]="startDate"></mat-datepicker>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" class="paddingInput"
                    appearance="outline">
                    <mat-label> อายุ </mat-label>
                    <input #age matInput [disabled]="true" />
                    <span matSuffix>ปี</span>
                </mat-form-field>

                <!-- <mat-form-field style="width: 15%;font-size: 10px;" class="paddingInput"
                    appearance="outline">
                    <mat-label> อีเมล </mat-label>
                    <input matInput formControlName="email" />
                    *ngIf="form.get('applicants.email').errors"
                    <mat-error *ngIf="form.get('applicants.email').hasError('email')">
                        อีเมลไม่ถูกต้อง</mat-error>
                </mat-form-field>

                <mat-form-field style="width: 15%;font-size: 10px;" class="paddingInput"
                    appearance="outline">
                    <mat-label> โทรศัพท์ </mat-label>
                    <input matInput [maxLength]="10" formControlName="mobile" />
                </mat-form-field> -->
            </div>



            <!-- <div class="flex_row_between">
                <mat-form-field style="width: 45%;" appearance="outline">
                    <mat-label> ชื่อ </mat-label>
                    <input matInput [maxLength]="50" formControlName="first_name_th" />
                </mat-form-field>

                <mat-form-field style="width: 45%;" appearance="outline">
                    <mat-label> นามสกุล </mat-label>
                    <input matInput [maxLength]="50" formControlName="last_name_th" />
                </mat-form-field>
            </div> -->

            <!-- <div class="flex_row_between">
                <mat-form-field style="width: 45%;" appearance="outline">
                    <mat-label> อายุ </mat-label>
                    <input #age matInput [disabled]="true" />
                    <span matSuffix>ปี</span>
                </mat-form-field>
                <mat-radio-group aria-label="Select an option" style="width: 45%;"
                    formControlName="gender_id">
                    เพศ
                    &nbsp;
                    <mat-radio-button [value]="1">ชาย</mat-radio-button>
                    &nbsp;
                    <mat-radio-button [value]="2">หญิง</mat-radio-button>
                </mat-radio-group>
            </div> -->

            <!-- <div class="flex_row_between">
                <mat-form-field style="width: 45%;" appearance="outline">
                    <mat-label> อีเมล </mat-label>
                    <input matInput formControlName="email" />
                   
                    <mat-error *ngIf="form.get('applicants.email').hasError('email')">
                        อีเมลไม่ถูกต้อง</mat-error>
                </mat-form-field>

                <mat-form-field style="width: 45%;" appearance="outline">
                    <mat-label> โทรศัพท์ </mat-label>
                    <input matInput [maxLength]="10" formControlName="mobile" />
                </mat-form-field>
            </div> -->
        </ng-container>

        <ng-container [formGroupName]="'applicants'">
            <div class="flex_row">
                <mat-checkbox #congrad class="paddingInput" formControlName="foreign_school_flag"
                    style="width: 15%;font-size: 10px;">
                    จบจากต่างประเทศ</mat-checkbox>
                    <mat-form-field style="width: 15%;font-size: 10px;" class="paddingInput" appearance="outline" *ngIf="!form.get('applicants.foreign_school_flag').value">
                        <mat-label> จังหวัด </mat-label>
                        <input matInput [value]="form.get('applicants.school_province_code').value | getFormId :provincesData:'province_code' :'province_name_th' :'' " />
                    </mat-form-field>
                <!-- <mat-form-field *ngIf="!congrad.checked" style="width: 15%;font-size: 10px;"
                    appearance="outline" class="paddingInput">
                    <input matInput formControlName="school_province_name" placeholder="จังหวัด"
                        aria-label="State" [matAutocomplete]="co" />
                    <mat-icon matSuffix>search</mat-icon>
                    <mat-autocomplete #co="matAutocomplete">
                        <mat-option style="font-size: 10px;" *ngFor="let c of provinces"
                            (onSelectionChange)="selectProvincSchool(c)" [value]="c.province_name_th">
                            {{c.province_name_th}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field> -->
                <mat-form-field *ngIf="congrad.checked" style="width: 15%;font-size: 10px;"
                    class="paddingInput" appearance="outline">
                    <input matInput formControlName="school_country_code" placeholder="ประเทศ"
                        aria-label="State" [matAutocomplete]="co" />
                    <mat-icon matSuffix>search</mat-icon>
                    <mat-autocomplete #co="matAutocomplete" style="font-size: 10px;">
                        <mat-option style="font-size: 10px;" *ngFor="let c of country" (onSelectionChange)="selectCountry(c)"
                            [value]="c.country_code">
                            {{c.country_name_th}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline"
                    class="paddingInput"
                    *ngIf="form.get('applicants.foreign_school_flag').value == true">
                    <input matInput formControlName="school_name" placeholder="โรงเรียน"
                        aria-label="State" />
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput"
                *ngIf="form.get('applicants.foreign_school_flag').value == false">
                <input matInput formControlName="school_name" placeholder="โรงเรียน"
                    aria-label="State" [matAutocomplete]="School" />
                <mat-icon matSuffix>search</mat-icon>
                <mat-autocomplete #School="matAutocomplete" style="font-size: 10px;">
                    <mat-option style="font-size: 10px;" *ngFor="let s of school" (onSelectionChange)="selectSchool(s)"
                        [value]="s.school_name_th">
                        {{ s.school_name_th }}
                    </mat-option>
                    <mat-option style="font-size: 10px;" [disabled]="true"
                        *ngIf="(school.length == 0 || !this.form.get('applicants.school_name')?.value)  && !congrad.checked">
                        <span>ไม่พบรายการที่ต้องการค้นหา</span>
                    </mat-option>
                </mat-autocomplete>
            </mat-form-field>

            <!-- <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                <input matInput placeholder="ปีที่สำเร็จการศึกษา" aria-label="ปีที่สำเร็จการศึกษา"
                    formControlName="graduate_year" [maxLength]="4" />
                <mat-label>ปีที่สำเร็จการศึกษา:</mat-label>
            </mat-form-field> -->
            <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                <mat-label>เกรดเฉลี่ย</mat-label>
                <input matInput formControlName="gpa" [maxLength]="5" />
            </mat-form-field>
            </div>
            <div class="flex_row" >
                    <!-- <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                        <mat-label>วุฒิการศึกษา</mat-label>
                        <mat-select placeholder="วุฒิการศึกษา" formControlName="education_level_id">
                            <mat-option *ngFor="let educationLevel of educationLevels" [value]="educationLevel.education_level_id">
                                {{educationLevel.education_level_name_th}}
                            </mat-option>
                        </mat-select>
                      </mat-form-field>
                      <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                        <mat-label>สาขา/แผนก/โปรแกรม</mat-label>
                        <mat-select placeholder="สาขา/แผนก/โปรแกรม" formControlName="program_type_id">
                            <mat-option *ngFor="let programstype of programsType" [value]="programstype.program_type_id">
                                {{programstype.program_type_name_th}}
                            </mat-option>
                        </mat-select>
                      </mat-form-field> -->
            </div>

            <!-- <div class="flex_row_between"> -->
                <!-- <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput"
                    *ngIf="form.get('applicants.foreign_school_flag').value == true">
                    <input matInput formControlName="school_name" placeholder="โรงเรียน"
                        aria-label="State" />
                </mat-form-field> -->
                <!-- <mat-form-field style="width: 45%;" appearance="outline"
                    *ngIf="form.get('applicants.foreign_school_flag').value == false">
                    <input matInput formControlName="school_name" placeholder="โรงเรียน"
                        aria-label="State" [matAutocomplete]="School" />
                    <mat-icon matSuffix>search</mat-icon>
                    <mat-autocomplete #School="matAutocomplete">
                        <mat-option *ngFor="let s of school" (onSelectionChange)="selectSchool(s)"
                            [value]="s.school_name_th">
                            {{ s.school_name_th }}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field> -->
               

               
            <!-- </div> -->
            <!-- <div class="flex_row_between">
      <mat-form-field style="width: 100%;" appearance="outline">
        <mat-label>สถาบันการศึกษา</mat-label>
        <input matInput formControlName="graduate_from_name" />
      </mat-form-field>
    </div> -->

            <!-- <div class="flex_row_between"> -->
                <!-- <mat-form-field *ngIf="congrad.checked" style="width: 45%;" appearance="outline">
        <input
          matInput
          formControlName="school_country_name"
          placeholder="ประเทศ"
          aria-label="State"
          [matAutocomplete]="co"
        />
        <mat-icon matSuffix>search</mat-icon>
        <mat-autocomplete #co="matAutocomplete" >
          <mat-option *ngFor="let c of country"  
             (onSelectionChange)="selectCountry(c)"
             [value]="c.country_name_th">
            {{c.country_name_th}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field> -->

               
            <!-- </div> -->
        </ng-container>

        <!-- <ng-container  [formGroupName]="'applicants'">
            
            <br>
            <div class="flex_row">
                <mat-form-field style="width: 31%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <mat-label>ที่อยู่</mat-label>
                    <textarea matInput formControlName="address1" [matTextareaAutosize]="true"></textarea>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <mat-label>ถนน</mat-label>
                    <input matInput placeholder="ซอย" aria-label="ซอย" formControlName="road" />
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline"class="paddingInput">
                    <input matInput formControlName="moo" placeholder="หมู่" aria-label="จังหวัด" />
                    <mat-label>หมู่</mat-label>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <input matInput formControlName="soi" placeholder="ซอย" aria-label="จังหวัด" />
                    <mat-label>ซอย</mat-label>
                </mat-form-field>
            </div>
            <div class="flex_row">
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <input matInput formControlName="sub_district_name" placeholder="แขวง / ตำบล"
                        aria-label="State" [matAutocomplete]="subAddress" />
                    <mat-label>ตำบล</mat-label>
                    <mat-icon matSuffix>search</mat-icon>
                    <mat-autocomplete #subAddress="matAutocomplete">
                        <mat-option *ngFor="let ad of address" (onSelectionChange)="selectAddress($event,ad)"
                            [value]="ad.sub_district_name_th">
                            {{ad.name_th}}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>

                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <input matInput formControlName="district_name" placeholder="เขต / อำเภอ" aria-label="State"
                        [matAutocomplete]="dis" />
                    <mat-label>อำเภอ</mat-label>
                    <mat-autocomplete #dis="matAutocomplete">
                        <mat-option style="font-size: 10px;" *ngFor="let d of districts" [value]="d.district_name_th">
                            {{ d.district_name_th }}
                        </mat-option>
                    </mat-autocomplete>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <input matInput formControlName="province_name" placeholder="จังหวัด"
                        aria-label="จังหวัด" />
                    <mat-label>จังหวัด</mat-label>
                </mat-form-field>
                <mat-form-field style="width: 15%;font-size: 10px;" appearance="outline" class="paddingInput">
                    <mat-label>รหัสไปรษณีย์</mat-label>
                    <input matInput formControlName="postal_code" />
                </mat-form-field>
            </div>
        </ng-container> -->







                
                

                


                <br>
                <ng-container>


                    <mat-card class="mat-elevation-z4" *ngIf="form.value.applicantapply.courses.length != 0">
                        <mat-card-title style="font-size: 14px;"> เอกสารประกอบการสมัครเรียน </mat-card-title>
                <mat-card-content>
                    <div class="flex_col">
                         <div style="width: 100%;">
                            <ng-container [formGroupName]="'applicantapply'">
                                <mat-radio-group aria-label="Select an option" [(ngModel)]="isStatusApplicate" [ngModelOptions]="{standalone: true}">
                                    <mat-radio-button style="padding-right: 40px;" [value]="3" (change)="checkDocmentPass($event.value)">ตรวจสอบเอกสารผ่านแล้ว</mat-radio-button>
                                    <mat-radio-button style="padding-right: 40px;" [value]="5" (change)="changewaitDoc($event.value)">รอเอกสารเพิ่มเติม</mat-radio-button>
                                    <mat-radio-button style="padding-right: 40px;" [value]="6" (change)="changeWrongDoc($event.value)">เอกสารผิด</mat-radio-button>
                                    <mat-radio-button style="padding-right: 40px;" [value]="7" (change)="changeNotPass($event.value)">คุณสมบัติไม่ผ่านการพิจารณา</mat-radio-button>
                                  </mat-radio-group>
                            </ng-container>
                        </div>
                        <!-- <div style="width: 20%;">
                            <ng-container [formGroupName]="'applicantapply'">
                                <mat-checkbox *ngIf="form.get('applicantapply.application_status_id').value == 1" formControlName="is_document_completed" (change)="checkDocmentPass()">ตรวจสอบเอกสารผ่านแล้ว</mat-checkbox>
                            </ng-container>
                        </div>
                        <div style="width: 20%;">
                            <ng-container [formGroupName]="'applicantapply'">
                                <mat-checkbox *ngIf="form.get('applicantapply.application_status_id').value == 1" (change)="changewaitDoc()">รอเอกสารเพิ่มเติม</mat-checkbox>
                            </ng-container>
                        </div>
                        <div style="width: 20%;">
                            <ng-container [formGroupName]="'applicantapply'">
                                <mat-checkbox *ngIf="form.get('applicantapply.application_status_id').value == 1" (change)="changeWrongDoc()" >เอกสารผิด</mat-checkbox>
                            </ng-container>
                        </div>
                        <div style="width: 20%;">
                            <ng-container [formGroupName]="'applicantapply'">
                                <mat-checkbox *ngIf="form.get('applicantapply.application_status_id').value == 1" (change)="changeNotPass()">คุณสมบัติไม่ผ่านการพิจารณา</mat-checkbox>
                            </ng-container>
                        </div> -->
                        <!-- <span> กรุณาแนบหลักฐานดังนี้ </span> -->
                        <!-- <span *ngFor="let doc of documents; let index = index">{{index + 1}}  {{doc.document_type_name_th}}</span> -->
                    </div>
                    <br>
                    <div class="flex_row_between">
                      
                        
                        <input type="file" style="display: none" #file (change)="uplodaFile($event.target.files)">
                       
             <table *ngIf="documents.length"
                mat-table
                [dataSource]="documents"
                matSort
                class="mat-elevation-z2"
                style="width: 100%;"
              >
                <tr mat-header-row *matHeaderRowDef="['document_type_id','document_type_name','document_type_name_en','file_name','status_id']"></tr>
                <tr
                  mat-row
                  *matRowDef="let myRowData; columns: ['document_type_id', 'document_type_name','document_type_name_en','file_name','status_id']"
                ></tr>
                <ng-container matColumnDef="document_type_id">
                  <th mat-header-cell *matHeaderCellDef>อันดับที่</th>
                  <td mat-cell *matCellDef="let data; let index = index">
                    {{ index + 1 }}
                  </td>
                </ng-container>
                <ng-container matColumnDef="document_type_name">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> ประเภทเอกสาร </th>
                  <td mat-cell *matCellDef="let data">{{ data.document_type_name }}</td>
                </ng-container>
                <ng-container matColumnDef="document_type_name_en">
                  <th mat-header-cell *matHeaderCellDef mat-sort-header> อัพโหลดเอกสาร </th>
                  <td mat-cell *matCellDef="let data; let index = index"> 
                         <mat-progress-bar 
                           *ngIf="getFormDocuments.at(index).get('progress').value && !getFormDocuments.at(index).get('document_url').value"  
                           mode="determinate" 
                           [value]="getFormDocuments.at(index).get('progress').value">
                         </mat-progress-bar>
                        <button mat-button  matSuffix mat-icon-button aria-label="Clear"  (click)="selectFile(index)">
                            <mat-icon *ngIf="!getFormDocuments.at(index).get('document_url').value" color="accent">cloud_upload</mat-icon>
                            <mat-icon *ngIf="getFormDocuments.at(index).get('document_url').value" color="accent"> done_all</mat-icon>
                        </button>
                    </td>
                </ng-container>
                <ng-container matColumnDef="file_name">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header>ชื่อเอกสาร</th>
                 <td mat-cell *matCellDef="let data;let index = index">
                    {{getFormDocuments.at(index).get('file_name').value}}
                 </td>
               </ng-container>
                <ng-container matColumnDef="status_id">
                 <th mat-header-cell *matHeaderCellDef mat-sort-header>ดูเอกสาร</th>
                 <td mat-cell *matCellDef="let data;let index = index">
                     <button *ngIf="getFormDocuments.at(index).get('document_url').value" mat-button  matSuffix mat-icon-button aria-label="Clear"  (click)="_previewDoc(getFormDocuments.at(index).get('document_url').value)">
                         <mat-icon >search</mat-icon>
                     </button>
                 </td>
               </ng-container>
                </table>
                </div>
    
                </mat-card-content>
            </mat-card>

                    <br>
                </ng-container>
                <br>
                <mat-card class="mat-elevation-z4">
                    <mat-card-content>
                        <!-- <div class="flex_row">
                            <mat-radio-group [(ngModel)]="payment" [ngModelOptions]="{standalone: true}" aria-label="Select an option" style="width: 50%;">
                                <mat-label style="padding-right: 40px;">ชำระเงิน&nbsp;&nbsp;&nbsp;&nbsp;</mat-label>
                                <mat-radio-button [value]="1">ชำระเงินค่าสมัครแล้ว</mat-radio-button>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <mat-radio-button [value]="2">ชำระเงินสด</mat-radio-button>
                                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                <mat-radio-button [value]="3">ชำระเงินผ่าน QR Code</mat-radio-button>
                            </mat-radio-group>
                            <div style="width: 45%;">
                            <button *ngIf="payment == 3" style="width: 190px;" color="accent" (click)="paymentPopup()" mat-raised-button>แสดง QR Code</button>&nbsp;&nbsp;
                        </div>
                        </div> -->
                        <div class="flex_row_end">
                            <button style="width: 190px;" mat-raised-button (click)="addPage()" > ย้อนกลับ </button>&nbsp;&nbsp;
                            <button style="width: 190px;" color="accent" (click)="onSubmit()" mat-raised-button>บันทึก</button>&nbsp;&nbsp;
                            <!-- <button style="width: 190px;" color="accent" (click)="repoer()" mat-raised-button>พิมพ์รายงาน</button>&nbsp;&nbsp; -->
                            <!-- <button style="width: 190px;" color="accent" (click)="onBack()" mat-raised-button>ชำระเงินสด</button>&nbsp;&nbsp;
                            <button style="width: 190px;" color="accent" (click)="paymentPopup()" mat-raised-button>ชำระเงินผ่าน QR Code</button>&nbsp;&nbsp; -->
                            
                    
                        </div>
                    </mat-card-content>
                </mat-card>

    </mat-card>
</form>
<!-- <pre>{{form.getRawValue()| json}}</pre>  -->